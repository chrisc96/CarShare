<!--
  Generated template for the FindARidePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-toolbar>
  <button ion-button menuToggle left>
    <ion-icon name="menu"></ion-icon>
  </button>
  <ion-title>
    Find a ride
  </ion-title>
</ion-toolbar>

<ion-content class="home-bg">
  <div id="container">
      <ion-refresher (ionRefresh)="doRefresh($event)" (ionPull)="doPulling($event)">
          <ion-refresher-content pullingText="Pull to refresh..." refreshingText="Refreshing..."  pullMax="0" pullMin="125">
          </ion-refresher-content>
        </ion-refresher>
    <div id="content">

      <div [hidden]="!userHasListings()">
        <ion-list *ngFor="let listing of listings; let i = index">
          <div id="listingDetails">
            <ion-item *ngIf="listing.firstName">
              <p>Listed by: {{ listing.firstName }} {{ listing.lastName }}</p>
              <p>Contact Number: {{ listing.contactNum }}</p>
            </ion-item>
            <ion-item *ngIf="listing.make">
              Vehicle: {{ listing.make }} {{ listing.model }} ({{ listing.year }})
            </ion-item>
            <ion-item *ngIf="listing.departureDate">
              Departs At: {{ listing.departureDate }} {{ listing.departureTime }}
            </ion-item>
            <ion-item *ngIf="listing.destination">
              Destination: {{ listing.destination }}
            </ion-item>
            <ion-item *ngIf="listing.meetingPoint">
              Meeting Point: {{ listing.meetingPoint }}
            </ion-item>
            <ion-item *ngIf="listing.seatsAvailable">
              Seats Available: {{ listing.seatsAvailable }}
            </ion-item>
            <ion-item *ngIf="listing.storageSpace">
              Storage Space: {{ listing.storageSpace }}
            </ion-item>
            <ion-item *ngIf="listing.whoWantsToCome.length > 0">
              Want to ride: {{ listing.whoWantsToCome }}
            </ion-item>
            <ion-item *ngIf="listing.whosComing.length > 0">
              Sharing ride: {{ listing.whosComing }}
            </ion-item>
            <ion-item>
              <button ion-button block color='secondary' (click)='goToListing(i)'>Go To Listing</button>
            </ion-item>
          </div>
        </ion-list>
      </div>
    </div>
  </div>
</ion-content>