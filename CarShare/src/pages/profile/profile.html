<!--
  Generated template for the ProfilePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-toolbar>
    <button ion-button menuToggle left>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>
      Profile
    </ion-title>
  </ion-toolbar>
  
  <ion-content class="home-bg">
    <div id="container">
      <div id="content"> 
        <div id="display">
          <div *ngIf="user && !editingMode">
            <ion-item *ngIf="user.firstName">
              First Name: {{ user.firstName }}
            </ion-item>
            <ion-item *ngIf="user.lastName">
              Last Name: {{ user.lastName }}
            </ion-item>
            <ion-item *ngIf="user.contactNum">
              Contact Number: {{ user.contactNum }}
            </ion-item>

            <ion-item class="editBtn">
              <button ion-button block color='secondary' (click)='editDetails()' >Edit</button>
            </ion-item>
          </div>

          <form id='edit' [formGroup]='editDetailsForm' *ngIf="user && editingMode">
            <ion-item>
              <ion-label color="primary">
                <ion-icon name="contact" class='editIcon'></ion-icon>
                <div class='placeholderText'>First Name:</div>
              </ion-label>
              <ion-input formControlName='firstNameControl' [(ngModel)]='firstName' class='formControl'></ion-input>
            </ion-item>
      
            <ion-item>
              <ion-label color="primary">
                <ion-icon name="contact" class='editIcon'></ion-icon>
                <div class='placeholderText'>Last Name:</div>
              </ion-label>
              <ion-input formControlName='lastNameControl' [(ngModel)]='lastName' class='formControl'></ion-input>
            </ion-item>

            <ion-item>
                <ion-label color="primary">
                  <ion-icon name="call" class='editIcon'></ion-icon>
                  <div class='placeholderText'>Contact Number:</div>
                </ion-label>
                <ion-input formControlName='contactNumControl' [(ngModel)]='contactNum' class='formControl'></ion-input>
              </ion-item>

            <ion-item class='submitBtn'>
              <button ion-button block color='secondary' #submit *ngIf='requestBeingSent'>
                <ion-spinner name="bubbles"></ion-spinner>
              </button>
              <button ion-button block color='secondary' #submit (click)='tryEdit($event)' *ngIf='!requestBeingSent'>Submit</button>
            </ion-item>
          </form>
        </div>
      </div>
    </div>
  </ion-content>
